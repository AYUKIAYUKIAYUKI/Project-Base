//============================================================================
// 
// ゲーム [game.cpp]
// Author : 福田歩希
// 
//============================================================================

//****************************************************
// インクルードファイル
//****************************************************
#include "game.h"
#include "manager.h"
#include "object.h"

// オブジェクト生成用
#include "bg.h"
#include "block.h"
#include "enemy.h"
#include "field.h"
#include "item.h"
#include "player.h"
#include "score.h"

//============================================================================
// コンストラクタ
//============================================================================
CGame::CGame()
{

}

//============================================================================
// デストラクタ
//============================================================================
CGame::~CGame()
{

}

//============================================================================
// 初期設定
//============================================================================
HRESULT CGame::Init()
{
	// プレイヤーの生成 (仮)
	CPlayer::Create(
		{ 0.0f, 0.0f, 0.0f });	// 位置

	// 地面の生成 (仮)
	CField::Create(
		{ 0.0f, 0.0f, 0.0f },		// 位置
		{ 100.0f, 0.0f, 100.0f });	// サイズ

	for (int i = 0; i < 5; i++)
	{
		// ブロックの生成 (仮)
		CBlock::Create(
			{ 100.0f, 0.0f, 100.0f + (-25.0f * i) });	// 位置

		// ブロックの生成 (仮)
		CBlock::Create(
			{ -100.0f + (-25.0f * i), 100.0f, 0.0f });	// 位置

		// ブロックの生成 (仮)
		CBlock::Create(
			{ -100.0f, 0.0f, -100.0f + (25.0f * i) });	// 位置

		// ブロックの生成 (仮)
		CBlock::Create(
			{ -100.0f + (25.0f * i), 0.0f, -100.0f });	// 位置

		// ブロックの生成 (仮)
		CBlock::Create(
			{ -100.0f , 0.0f + (25.0f * i), 0.0f });	// 位置
	}

	// ブロックの生成 (仮)
	CBlock::Create(
		{ -40.0f, 0.0f, 150.0f });	// 位置

	// ブロックの生成 (仮)
	CBlock::Create(
		{ -20.0f, 20.0f, 150.0f });	// 位置

	// ブロックの生成 (仮)
	CBlock::Create(
		{ 0.0f, 40.0f, 150.0f });	// 位置

	// ブロックの生成 (仮)
	CBlock::Create(
		{ 20.0f, 60.0f, 150.0f });	// 位置

	// ブロックの生成 (仮)
	CBlock::Create(
		{ 40.0f, 80.0f, 150.0f });	// 位置

	// スコアの生成 (仮)
	CScore::Create(
		{ 25.0f, 30.0f, 0.0f },	// 位置
		25.0f);					// 数列の配置間隔

	return S_OK;
}

//============================================================================
// 終了処理
//============================================================================
void CGame::Uninit()
{
	// 基底クラスの終了処理
	CScene::Uninit();
}

//============================================================================
// 更新処理
//============================================================================
void CGame::Update()
{
	if (CManager::GetKeyboard()->GetTrigger(DIK_RETURN))
	{
		CManager::SetScene(MODE::RESULT);
	}
}

//============================================================================
// 描画処理
//============================================================================
void CGame::Draw()
{

}